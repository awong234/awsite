<html>
<head>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
</head>
<body>
	<div id="viewer" style="width: 50%; margin: auto;"></div>	
<script>
// For now, just look in one folder. Later loop through folders somehow.
var baseUrl = "/static/photographs/2019/07";
var pictures = [];
function getAndDisplayFiles() {
	$.ajax(baseUrl).success(function(data) {
		pictures = [];
		$(data).find("a[href]").each(function() {
			var href = $(this).attr('href');
			if (href.indexOf('.jpg') > 0 || href.indexOf('.png') > 0 || href.indexOf('.jpeg') > 0) {
				pictures.push(href);
			}
		});
		console.log(pictures.length + " pictures loaded!");
		// Now append each of these to the "Viewer" div.
		pictures.map( (link) => {
			console.log("Appending: <img src='" + baseUrl + '/' + link + "'/>")
			$("#viewer").append("<img src='" + baseUrl + '/' + link + "' style='width:100%;'/>")
		})
	});
}
getAndDisplayFiles();
</script>
</body>
</html>