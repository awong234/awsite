<html>
<head>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<link rel="stylesheet" href="/assets/green.css">
<link rel="stylesheet" href="/assets/style.css">
<link rel="stylesheet" href="/assets/myStyles.css">
<script>
	// Get the files as pre-specified by bash script

	var baseUrl = [
	"/static/photographs",
	"/static/photographs/2015",
	"/static/photographs/2015/04",
	"/static/photographs/2015/04/NYC",
	"/static/photographs/2015/04/LIC",
	"/static/photographs/2015/04/Cornell",
	"/static/photographs/2015/04/Washington",
	"/static/photographs/2015/04/Toronto",
	"/static/photographs/2015/05",
	"/static/photographs/2015/05/Portraits and Other",
	"/static/photographs/2015/05/Cruise",
	"/static/photographs/2015/05/Cruise/Day 6",
	"/static/photographs/2015/05/Cruise/Day 3",
	"/static/photographs/2015/05/Cruise/Day 2",
	"/static/photographs/2015/05/Cruise/Day 1",
	"/static/photographs/2015/05/Road Trip",
	"/static/photographs/2015/05/Before Cruise",
	"/static/photographs/2015/02",
	"/static/photographs/2015/02/Whitestone",
	"/static/photographs/2015/01",
	"/static/photographs/2015/01/Alley Park",
	"/static/photographs/2015/01/Alley Park/Cardinals",
	"/static/photographs/2015/01/Alley Park/Other Birds",
	"/static/photographs/2015/01/Alley Park/Blue Jay",
	"/static/photographs/2015/01/Alley Park/Woodpecker",
	"/static/photographs/2015/01/Alley Park/Landscape",
	"/static/photographs/2015/01/Leetle Birdies",
	"/static/photographs/2015/01/Food",
	"/static/photographs/2015/10",
	"/static/photographs/2015/12",
	"/static/photographs/2015/07",
	"/static/photographs/2015/07/Other",
	"/static/photographs/2015/07/Cruise",
	"/static/photographs/2015/07/Cruise/Family",
	"/static/photographs/2015/08",
	"/static/photographs/2015/08/Pie",
	"/static/photographs/2015/08/Lisa's Gift",
	"/static/photographs/2015/09",
	"/static/photographs/2015/09/Honda Insight",
	"/static/photographs/2015/06",
	"/static/photographs/2015/06/Lens",
	"/static/photographs/2015/06/Cornell Housing Trip",
	"/static/photographs/2015/06/Cornell Housing Trip/Apartments",
	"/static/photographs/2015/06/Cornell Housing Trip/Apartments/Apartment",
	"/static/photographs/2015/06/Project",
	"/static/photographs/2015/03",
	"/static/photographs/2015/03/Winter",
	"/static/photographs/2015/03/Bagel",
	"/static/photographs/2015/03/A&S",
	"/static/photographs/2015/11",
	"/static/photographs/2017",
	"/static/photographs/2017/02",
	"/static/photographs/2017/02/SkiTrip",
	"/static/photographs/2017/10",
	"/static/photographs/2017/10/TWS",
	"/static/photographs/2017/12",
	"/static/photographs/2017/12/FamHoliday",
	"/static/photographs/2017/12/LabHoliday",
	"/static/photographs/2017/08",
	"/static/photographs/2017/09",
	"/static/photographs/2017/06",
	"/static/photographs/2017/03",
	"/static/photographs/2017/03/smaller",
	"/static/photographs/2016",
	"/static/photographs/2016/04",
	"/static/photographs/2016/05",
	"/static/photographs/2016/02",
	"/static/photographs/2016/01",
	"/static/photographs/2016/10",
	"/static/photographs/2016/10/CMOG_other",
	"/static/photographs/2016/10/CMOG_wallpapers_169",
	"/static/photographs/2016/10/CMOG_small",
	"/static/photographs/2016/10/CMOG_wallpapers",
	"/static/photographs/2016/12",
	"/static/photographs/2016/06",
	"/static/photographs/2016/03",
	"/static/photographs/2014",
	"/static/photographs/2014/04",
	"/static/photographs/2014/05",
	"/static/photographs/2014/05/Engelagement",
	"/static/photographs/2014/05/Zoo Day",
	"/static/photographs/2014/05/Norfolk",
	"/static/photographs/2014/05/Engel Graduation",
	"/static/photographs/2014/02",
	"/static/photographs/2014/01",
	"/static/photographs/2014/10",
	"/static/photographs/2014/10/Bread",
	"/static/photographs/2014/12",
	"/static/photographs/2014/07",
	"/static/photographs/2014/08",
	"/static/photographs/2014/09",
	"/static/photographs/2014/06",
	"/static/photographs/2014/03",
	"/static/photographs/2014/03/NYC Adventures",
	"/static/photographs/2014/11",
	"/static/photographs/2019",
	"/static/photographs/2019/04",
	"/static/photographs/2019/05",
	"/static/photographs/2019/07",
	"/static/photographs/2019/08",
	"/static/photographs/2019/09",
	"/static/photographs/2013",
	"/static/photographs/2013/04",
	"/static/photographs/2013/05",
	"/static/photographs/2013/02",
	"/static/photographs/2013/01",
	"/static/photographs/2013/10",
	"/static/photographs/2013/12",
	"/static/photographs/2013/07",
	"/static/photographs/2013/08",
	"/static/photographs/2013/09",
	"/static/photographs/2013/06",
	"/static/photographs/2013/03",
	"/static/photographs/2013/11",
	"/static/photographs/2018",
	"/static/photographs/2018/04",
	"/static/photographs/2018/04/Stella",
	"/static/photographs/2018/05",
	"/static/photographs/2018/05/JoannaWedding",
	"/static/photographs/2018/02",
	"/static/photographs/2018/01",
	"/static/photographs/2018/01/Zoo",
	"/static/photographs/2018/01/kitties",
	"/static/photographs/2018/10",
	"/static/photographs/2018/10/CL_items",
	"/static/photographs/2018/10/House_dmg",
	"/static/photographs/2018/12",
	"/static/photographs/2018/12/Christmas",
	"/static/photographs/2018/12/Graduation",
	"/static/photographs/2018/07",
	"/static/photographs/2018/07/Scotland",
	"/static/photographs/2018/08",
	"/static/photographs/2018/09",
	"/static/photographs/2018/09/Mocha",
	"/static/photographs/2018/09/Mocha/Mocha_gif",
	"/static/photographs/2018/09/Mocha/Mocha_keep",
	"/static/photographs/2018/06",
	"/static/photographs/2018/03",
	"/static/photographs/2018/03/HAPPYBDAYMATT",
	"/static/photographs/2012",
	"/static/photographs/2012/12",
	]

	baseUrl.sort().reverse()

	function getAndDisplayFiles() {
		for (url in baseUrl) {
			let path = baseUrl[url]
			let path_split = path.split("/")
			let year = path_split[3]
			let month = path_split[4]
			let subc = path_split[5]
			$.ajax(path).success(function(data) {
				console.log("This is folder " + path)
				pictures = [];
				$(data).find("a[href]").each(function() {
					var href = $(this).attr('href');
					if (href.indexOf('.jpg') > 0 || href.indexOf('.png') > 0 || href.indexOf('.jpeg') > 0) {
						pictures.push(href);
					}
				});
				console.log(pictures.length + " pictures loaded!");
				// Now append each of these to the "Viewer" div.
				if (pictures.length > 0) {
					console.log("Appending: <h1>" + year + "</h1>")
					$("#viewer").append("<h1>" + year + "</h1>")
					if (month !== undefined) {
						console.log("Appending: <h2>" + month + "</h2>")
						$("#viewer").append("<h2>" + month + "</h2>")
					}
					if (subc !== undefined) {
						console.log("Appending: <h3>" + subc + "</h3>")
						$("#viewer").append("<h3>" + subc + "</h3>")
					}
					pictures.map( (link) => {
						console.log("Appending: <img src='" + path + '/' + link + "'/>")
						$("#viewer").append("<img src='" + path + '/' + link + "' class=photos loading = 'lazy'/>")
					})
				}
			});
		}

	}
	getAndDisplayFiles();
</script>
</head>
<body>
	<div id="viewer" style="width: 50%; margin: auto;"></div>
</body>
</html>